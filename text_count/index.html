<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
  <h1 class="sec__title">最新ニュース</h1>
  <section>
    <h2>複数要素にたいしての文字数制限１</h2>
    <ul id="news_one">
      <li class="">
          <a href="#">最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1</a>
      </li>
      <li class="">
          <a href="#">最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2</a>
      </li>
    </ul>

    <h2>複数要素にたいしての文字数制限2</h2>
    <ul id="news">
        <li class="">
            <a href="#">最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1最新ニュース1</a>
        </li>
        <li class="">
            <a href="#">最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2最新ニュース2</a>
        </li>
    </ul>
  </section>

  <script>
      //複数要素にたいしての文字数制限１
      $(function(){
          let setElm = $('#news_one a'); // 対象
          let cutFigure = '30'; // 何文字でカットするか
          let afterTxt = '…'; // 文字カットした後ろに表示するテキスト

          setElm.each(function(){
              let textLength = $(this).text().length; //文字数確認
              let textTrim = $(this).text().substring(0,(cutFigure)); //cutFigureで指定した範囲の文字を返す

              if(cutFigure < textLength) {
                // 文字数が指定より多かったら、返した文字と省略した後ろにテキストを追加
                $(this).html(textTrim + afterTxt).css({visibility:'visible'});
              }else if(cutFigure >= textLength){
                // 文字数が指定より少なかったら、返した文字を表示する
                $(this).css({visibility:'visible'});
              }
          });
      });
  </script>

  <script>
      //複数要素にたいしての文字数制限2
      $(function(){
          let setElm = $('#news a'); //対象
          let cutFigure = '50'; // 何文字でカットするか
          let afterTxt = '…'; // 文字カットした後ろに表示するテキスト

          function textCut() {
              setElm.each(function(){
                  let textLength = $(this).text().length; //文字数確認
                  let textTrim = $(this).text().substring(0,(cutFigure)); //cutFigureで指定した範囲の文字を返す

                  if(cutFigure < textLength) {
                      // 文字数が指定より多かったら、返した文字と省略した後ろにテキストを追加
                      $(this).html(textTrim + afterTxt).css({visibility:'visible'});
                  }else if(cutFigure >= textLength){
                      // 文字数が指定より少なかったら、返した文字を表示する
                      $(this).css({visibility:'visible'});
                  }
              });
          }

          // 実行
          textCut();
      });
  </script>
</body>
</html>
